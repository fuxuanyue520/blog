---
import { Icon } from 'astro-icon/components';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('posts');
const tags = [...new Set(allPosts.flatMap(post => post.data.tags))];
---

<div class="bg-dark-800 rounded-xl p-5 shadow-lg border border-white/5 mt-4 group hover:border-primary-500/30 transition-colors">
  <div class="flex items-center gap-2 mb-4 text-primary-400 font-bold border-l-4 border-primary-500 pl-3">
    <Icon name="ri:price-tag-3-line" />
    <span>标签</span>
  </div>
  
  <div class="flex flex-wrap gap-2">
    {tags.map(tag => (
      <a href={`/tags/${tag}`} class="px-3 py-1 bg-dark-700 hover:bg-primary-600 hover:text-white text-gray-400 text-xs rounded-full transition-colors">
        {tag}
      </a>
    ))}
    {tags.length === 0 && <span class="text-gray-500 text-xs">暂无标签</span>}
  </div>
</div>
